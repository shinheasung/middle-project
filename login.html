<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="TemplateMo">
    <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900" rel="stylesheet">

    <title>로그인</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">


    <!-- Additional CSS Files -->
    <link rel="stylesheet" href="assets/css/fontawesome.css">
    <link rel="stylesheet" href="assets/css/templatemo-edu-meeting.css">
    <link rel="stylesheet" href="assets/css/owl.css">
    <link rel="stylesheet" href="assets/css/lightbox.css">
    <!--

TemplateMo 569 Edu Meeting

https://templatemo.com/tm-569-edu-meeting

-->
</head>

<body>

  <!-- Sub Header -->
  <div class="sub-header">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-sm-8">
          <div class="left-content">
            <!-- <p>This is an educational <em>HTML CSS</em> template by TemplateMo website.</p> -->
          </div>
        </div>
        <div class="col-lg-4 col-sm-4">
          <div class="right-icons">
            <ul>
              <li><a href="#"></a></li>
              <li><a href="login.html">로그인</a></li>
              <li><a href="signup.html">회원가입</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ***** Header Area Start ***** -->
  <header class="header-area header-sticky">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <nav class="main-nav">
                    <!-- ***** Logo Start ***** -->
                    <a href="index.html" class="logo" style="font-size: 46px;">
                        Daum IT
                    </a>
                    <!-- ***** Logo End ***** -->
                    <!-- ***** Menu Start ***** -->
                    <ul class="nav">
                        <li><a href="index.html">Home</a></li>
                        <li class="has-sub">
                          <a href="introduce-u.html">학원소개</a>
                          <ul class="sub-menu">
                            <li><a href="introduce-u.html">학원 소개</a></li>
                            <li><a href="teacher-u.html">교직원 소개</a></li>
                            <li><a href="employment-u.html">취업현황</a></li>
                          </ul>
                        </li>
                        <li><a href="notice-u.html">공지사항</a></li>
                        <li >
                            <a href="community-u.html">커뮤니티</a>
                        </li>
                        <li  class="has-sub">
                          <a href="FAQ-u.html">고객센터</a>
                          <ul class="sub-menu">
                            <li><a href="FAQ-u.html">FAQ</a></li>
                            <li><a href="counsel-u.html">문의 및 상담</a></li>
                            <li><a href="location-u.html">오시는 길</a></li>
                          </ul>
                        </li> 
                        <li><a href="calendar-u.html">출결조회</a></li> 
                    </ul>        
                    <a class='menu-trigger'>
                        <span>Menu</span>
                    </a>
                    <!-- ***** Menu End ***** -->
                </nav>
            </div>
        </div>
    </div>
</header>
<!-- ***** Header Area End ***** -->

    <!-- ***** Main Banner Area Start ***** -->
    
    <section class="section main-banner" id="top" data-section="section1">
        <video autoplay muted loop id="bg-video">
            <!-- 배경이미지 설정단 -->
            <source src="assets/images/course-video.mp4" type="video/mp4" />
        </video>

        <div class="video-overlay header-text">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                      <div style="background-color: #ffffff; height: 650px; color: #000000; text-align: center; margin-top: 200px; border-radius: 10px;">
                        <h6></h6>
                        <h1 style="padding-top: 80px; padding-bottom: 30px;">Log In</h1>
                        <div style="margin: 0 auto; width: 300px;">
                          <form action="#">
                            <fieldset style="border: none; border-radius: 10px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); background-color: #ffffff; padding: 20px;">
                              <div >
                                <label for="username" style="display: block; text-align: left;">ID
                                  <input type="text" id="username" name="username" placeholder="User_ID" style="width: 100%; padding: 8px; margin-top: 5px; margin-bottom: 10px; border: 1px solid #cccccc; border-radius: 5px; box-sizing: border-box;">
                                </label>
                              </div>
                              <div>
                                <label for="password" style="display: block; text-align: left;">PW
                                  <input type="password" id="password" name="password" placeholder="Password" style="width: 100%; padding: 8px; margin-top: 5px; margin-bottom: 10px; border: 1px solid #cccccc; border-radius: 5px; box-sizing: border-box;">
                                </label>
                              </div>
                              <div id="check" style="margin: 30px; color: #ff0000;"></div>
                              <button id="loginBtn"type="button" style="background-color: #ffffff; color: #000000; border: 2px solid #000000; font-size: 18px; font-weight: bold; padding: 10px 20px; cursor: pointer; transition: all 0.3s ease; border-radius: 5px; width: 100%; margin-top: 10px;">LOGIN</button>
                            </fieldset>
                          </form>
                          <div class="Forgot" style="text-align: center; margin-top: 20px;">
                            <a href="forgot.html" id="forgot" style="text-decoration: none; color: #333333;">Forgot your password?</a>
                          </div>
                          <div class="Forgot" style="text-align: center; margin-top: 20px;">
                            <a href="signup.html" style="text-decoration: none; color: #333333;">Would you like to sign up?</a>
                          </div>
                        </div>
                      </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
   
    <!-- Scripts 단 기능등 -->
    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    

    <script src="assets/js/isotope.min.js"></script>
    <script src="assets/js/owl-carousel.js"></script>
    <script src="assets/js/lightbox.js"></script>
    <script src="assets/js/tabs.js"></script>
    <script src="assets/js/video.js"></script>
    <script src="assets/js/slick-slider.js"></script>
    <script src="assets/js/custom.js"></script>
    <script>
        //according to loftblog tut
        $('.nav li:first').addClass('active');

        var showSection = function showSection(section, isAnimate) {
            var
                direction = section.replace(/#/, ''),
                reqSection = $('.section').filter('[data-section="' + direction + '"]'),
                reqSectionPos = reqSection.offset().top - 0;

            if (isAnimate) {
                $('body, html').animate({
                    scrollTop: reqSectionPos
                },
                    800);
            } else {
                $('body, html').scrollTop(reqSectionPos);
            }

        };

        var checkSection = function checkSection() {
            $('.section').each(function () {
                var
                    $this = $(this),
                    topEdge = $this.offset().top - 80,
                    bottomEdge = topEdge + $this.height(),
                    wScroll = $(window).scrollTop();
                if (topEdge < wScroll && bottomEdge > wScroll) {
                    var
                        currentId = $this.data('section'),
                        reqLink = $('a').filter('[href*=\\#' + currentId + ']');
                    reqLink.closest('li').addClass('active').
                        siblings().removeClass('active');
                }
            });
        };

        $('.main-menu, .responsive-menu, .scroll-to-section').on('click', 'a', function (e) {
            e.preventDefault();
            showSection($(this).attr('href'), true);
        });

        $(window).scroll(function () {
            checkSection();
        });
    </script>


<script>
  //로그인 정보 저장 후 로컬에 로그인정보저장

  const loginBtn = document.querySelector("#loginBtn");
  const pwInput = document.querySelector("#password");

  loginBtn.addEventListener('click', function () {
    const loginId = document.querySelector("#username").value;
    const loginPw = document.querySelector("#password").value;

    // 로컬 스토리지에서 회원 정보 가져오기
    const memberList = JSON.parse(localStorage.getItem('member'));

    let isLoggedIn = false;

    for (let i = 0; i < memberList.length; i++) {
      if (memberList[i].id == loginId && memberList[i].password == loginPw) {
        if (!memberList[i].withdrawal) {

          sessionStorage.setItem("login", JSON.stringify(memberList[i]));
          isLoggedIn = true;

          const loginInfo = JSON.parse(sessionStorage.getItem("login"))
          if (loginInfo.power_code == true) {
            window.location.href = 'index-m.html'
          } else {
            window.location.href = 'index.html'
          }
          break;
        } else {
          isLoggedIn = true;
          // 생년월일 입력시 활성화
          if (confirm('비활성화 상태입니다. 활성화 상태로 전환하시겠습니까?')) {
            let birthInfo = memberList[i].birth;
            let userWithdrawal= memberList[i].withdrawal
            let userBirthInfo = prompt("생년월일을 입력해주세요.");
            if (userBirthInfo == birthInfo) {
              memberList[i].withdrawal = false;
              localStorage.setItem('member', JSON.stringify(memberList));
              location.reload(); 
              alert("활성화 되었습니다.");
            } else {
              location.reload(); 
              alert("생년월일을 입력하지 않았습니다. 원래 화면으로 돌아갑니다.");
            }
          } else {
            location.reload(); 
            alert("취소되었습니다. 원래 화면으로 돌아갑니다.");
          }
        }
      }
    }

    // 아이디 또는 비밀번호가 일치하지 않을 때 경고창 표시
    if (!isLoggedIn) {
      alert("아이디 또는 비밀번호가 다릅니다.");
      pwInput.value = "";
      pwInput.focus();
    }
  });

  pwInput.addEventListener("keyup", function(event){
    if(!pwInput.value ==""){
      if(event.keyCode === 13){
        const loginId = document.querySelector("#username").value;
        const loginPw = document.querySelector("#password").value;

        // 로컬 스토리지에서 회원 정보 가져오기
        const memberList = JSON.parse(localStorage.getItem('member'));

        let isLoggedIn = false;

        for (let i = 0; i < memberList.length; i++) {
          if (memberList[i].id == loginId && memberList[i].password == loginPw) {
            if (!memberList[i].withdrawal) {

              sessionStorage.setItem("login", JSON.stringify(memberList[i]));
              isLoggedIn = true;

              const loginInfo = JSON.parse(sessionStorage.getItem("login"))
              if (loginInfo.power_code == true) {
                window.location.href = 'index-m.html'
              } else {
                window.location.href = 'index.html'
              }
              break;
            } else {
              isLoggedIn = true;
              // 생년월일 입력시 활성화
              if (confirm('비활성화 상태입니다. 활성화 상태로 전환하시겠습니까?')) {
                let birthInfo = memberList[i].birth;
                let userWithdrawal= memberList[i].withdrawal
                let userBirthInfo = prompt("생년월일을 입력해주세요.");
                if (userBirthInfo == birthInfo) {
                  memberList[i].withdrawal = false;
                  localStorage.setItem('member', JSON.stringify(memberList));
                  location.reload(); 
                  alert("활성화 되었습니다.");
                } else {
                  location.reload(); 
                  alert("생년월일을 입력하지 않았습니다. 원래 화면으로 돌아갑니다.");
                }
              } else {
                location.reload(); 
                alert("취소되었습니다. 원래 화면으로 돌아갑니다.");
              }
            }
          }
        }
        
        if (!isLoggedIn) {
          alert("아이디 또는 비밀번호가 다릅니다.");
          pwInput.value = "";
          pwInput.focus();
        }
      }
    }
  })

</script>

</body>

</body>

</html>